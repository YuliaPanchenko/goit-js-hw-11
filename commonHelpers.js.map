{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".gallery-form\");\nconst btnElem= document.querySelector(\".btn\");\nconst list = document.querySelector(\".gallery\");\n\nform.addEventListener(\"submit\", (e)=> {\n  e.preventDefault();\n  const inputValue = e.target.elements.text.value.trim();\n  console.log(inputValue);\n  if (inputValue === \"\"){\n    iziToast.error({\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n  getImages(inputValue).then(data=>{\n    if (data.hits.length === 0) {\n      iziToast.error({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n    const markup = renderImages(data.hits);\n    list.innerHTML = markup;\n\n    })\n    .catch(err=>{});\n});\n\nfunction getImages(images){\n  const BASE_URL =\"https://pixabay.com\";\n  const END_POINT = \"/api/\";\n  const params = new URLSearchParams({\n    key: \"44363127-b4cd04443a44f0f2a63a731a6\",\n    q: images, \n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  // fetch(url).then(res=>{\n  //   return res.json();\n  // }).then(data=>{\n  //   console.log(data);\n  // })\n\n  return fetch(url).then(res=>res.json());\n\n}\n\nfunction renderImages(images){\n  list.innerHTML = '';\n\n  const markup = images.map(image => {\n    return `\n      <li class=\"card\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        <div class=\"stats\">\n          <div>\n            <span class=\"elements\">Likes</span>\n            ${image.likes}\n          </div>\n          <div>\n            <span class=\"elements\">Views</span>\n            ${image.views}\n          </div>\n          <div>\n            <span class=\"elements\">Comments</span>\n            ${image.comments}\n          </div>\n          <div>\n            <span class=\"elements\">Downloads</span>\n            ${image.downloads}\n          </div>\n        </div>\n      </li>\n    `;\n  }).join('');\n  return markup;\n}\n"],"names":["form","list","e","inputValue","iziToast","getImages","data","markup","renderImages","err","images","BASE_URL","END_POINT","params","url","res","image"],"mappings":"svBAGA,MAAMA,EAAO,SAAS,cAAc,eAAe,EACpC,SAAS,cAAc,MAAM,EAC5C,MAAMC,EAAO,SAAS,cAAc,UAAU,EAE9CD,EAAK,iBAAiB,SAAWE,GAAK,CACpCA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,KAAK,MAAM,OAEhD,GADA,QAAQ,IAAIC,CAAU,EAClBA,IAAe,GAAG,CACpBC,EAAS,MAAM,CACb,QAAS,8BACf,CAAK,EACD,MACD,CACDC,EAAUF,CAAU,EAAE,KAAKG,GAAM,CAC/B,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BF,EAAS,MAAM,CACb,QAAS,0EACjB,CAAO,EACD,MACD,CACD,MAAMG,EAASC,EAAaF,EAAK,IAAI,EACrCL,EAAK,UAAYM,CAErB,CAAK,EACA,MAAME,GAAK,CAAA,CAAE,CAClB,CAAC,EAED,SAASJ,EAAUK,EAAO,CACxB,MAAMC,EAAU,sBACVC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAQ7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAKA,EAAI,KAAI,CAAE,CAExC,CAEA,SAASP,EAAaE,EAAO,CAC3B,OAAAT,EAAK,UAAY,GAEFS,EAAO,IAAIM,GACjB;AAAA;AAAA,oBAESA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,cAI5CA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,cAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,cAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,cAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAK1B,EAAE,KAAK,EAAE,CAEZ"}